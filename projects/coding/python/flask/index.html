<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ================= META ================= -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive Flask code snippets with immersive editor and dark theme">
    <title>Flask Code Snippets • Immersive Editor</title>

    <!-- ================= STYLES ================= -->
    <link rel="stylesheet" href="css/flask.css">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- ================= BACKGROUND ================= -->
    <div class="bg-grid" aria-hidden="true"></div>
    <div class="bg-glow" aria-hidden="true"></div>

    <!-- ================= APP ================= -->
    <div class="container">

        <!-- ================= HEADER ================= -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-flask" aria-hidden="true"></i>
                    <h1>Flask<span class="gradient-text">Snippets</span></h1>
                    <span class="badge">v2.0</span>
                </div>
            </div>
        </header>

        <!-- ================= MAIN ================= -->
        <main class="main-content">

            <!-- ===== LEFT PANEL ===== -->
            <aside class="left-panel" aria-label="Snippet navigation">

                <!-- Search -->
                <div class="search-container">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input
                            id="searchInput"
                            type="text"
                            placeholder="Search snippets (route, auth, db...)"
                            aria-label="Search code snippets"
                        >
                        <button id="clearSearch" class="clear-btn" aria-label="Clear search">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <small class="search-hint">
                        <i class="fas fa-lightbulb"></i>
                        Type to filter instantly
                    </small>
                </div>

                <!-- Filters -->
                <div class="filters">
                    <div class="filter-tags" role="tablist">
                        <button class="filter-tag active" data-filter="all">All</button>
                        <button class="filter-tag" data-filter="routes">Routes</button>
                        <button class="filter-tag" data-filter="database">Database</button>
                        <button class="filter-tag" data-filter="auth">Auth</button>
                        <button class="filter-tag" data-filter="forms">Forms</button>
                    </div>

                    <select id="sortSelect" class="sort-select" aria-label="Sort snippets">
                        <option value="name">Sort: Name</option>
                        <option value="difficulty">Sort: Difficulty</option>
                        <option value="category">Sort: Category</option>
                    </select>
                </div>

                <!-- Snippet List -->
                <section class="snippets-list-container">
                    <header class="list-header">
                        <h3><i class="fas fa-code"></i> Snippets</h3>
                        <span id="snippetCount" class="count-badge">0</span>
                    </header>

                    <div id="snippetsList" class="snippets-list">
                        <div class="loading-state">
                            <div class="loading-spinner"></div>
                            <p>Loading snippets…</p>
                        </div>
                    </div>
                </section>
            </aside>

            <!-- ===== RIGHT PANEL ===== -->
            <section class="right-panel" aria-label="Code viewer">

                <!-- Viewer Header -->
                <header class="panel-header">
                    <h2><i class="fas fa-file-code"></i> Code Viewer</h2>

                    <div class="header-actions">
                        <button id="copyBtn" class="btn-primary">
                            <i class="fas fa-copy"></i> Copy
                        </button>
                        <button id="expandBtn" class="btn-secondary" aria-label="Fullscreen">
                            <i class="fas fa-expand"></i>
                        </button>
                    </div>
                </header>

                <!-- Viewer Content -->
                <div class="code-display-container">

                    <!-- Empty State -->
                    <div id="snippetInfo" class="snippet-info">
                        <div class="info-placeholder">
                            <i class="fas fa-hand-point-left"></i>
                            <h3>Select a snippet</h3>
                            <p>Choose a snippet from the left to view details</p>
                        </div>
                    </div>

                    <!-- Code -->
                    <div id="codeDisplay" class="code-display">
                        <div class="code-header">
                            <div>
                                <h4 id="snippetTitle">—</h4>
                                <div class="code-meta">
                                    <span id="snippetCategory">Category: —</span>
                                    <span id="snippetDifficulty">Difficulty: —</span>
                                    <span id="snippetMethod">Method: —</span>
                                </div>
                            </div>
                            <div class="language-label">
                                <span class="lang-badge">Python</span>
                                <span class="lang-badge">Flask</span>
                            </div>
                        </div>

                        <pre class="code-content">
<code id="codeSnippet" class="language-python">
# Select a snippet to see code here
</code>
                        </pre>

                        <footer class="code-footer">
                            <div class="requirements">
                                <strong><i class="fas fa-box"></i> Requires:</strong>
                                <div id="requirementsList"></div>
                            </div>
                            <button id="viewRawBtn" class="btn-outline">
                                <i class="fas fa-external-link-alt"></i> Raw
                            </button>
                        </footer>
                    </div>

                    <!-- Details -->
                    <div id="snippetDetails" class="snippet-details">
                        <section>
                            <h5>Description</h5>
                            <p id="snippetDescription">—</p>
                        </section>

                        <section class="details-grid">
                            <div>
                                <h6>Notes</h6>
                                <p id="snippetNotes">—</p>
                            </div>
                            <div>
                                <h6>Response</h6>
                                <p><strong>Success:</strong> <span id="responseSuccess">—</span></p>
                                <p><strong>Error:</strong> <span id="responseError">—</span></p>
                            </div>
                        </section>

                        <section>
                            <h5>Tags</h5>
                            <div id="tagsContainer" class="tags-container"></div>
                        </section>
                    </div>
                </div>
            </section>
        </main>

        <!-- ================= FOOTER ================= -->
        <footer class="app-footer">
            <p>
                Built with <i class="fas fa-heart pulse"></i> for Flask developers
            </p>
            <nav class="footer-links">
                <a href="#" rel="noopener">GitHub</a>
                <a href="#" rel="noopener">Docs</a>
                <a href="#" rel="noopener">Report Issue</a>
            </nav>
            <small>© 2025 FlaskSnippets • MIT License</small>
        </footer>
    </div>

    <!-- ================= TOAST ================= -->
    <div id="toast" class="toast" role="status" aria-live="polite">
        <i class="fas fa-check-circle"></i>
        <span class="toast-message">Copied!</span>
    </div>

    <!-- ================= SCRIPT ================= -->
    <script src="js/flask.js" defer></script>
</body>
</html>
